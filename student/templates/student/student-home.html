{% extends 'base.html' %}
{% load static %}

{% block head %}

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Actor">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Armata">

    <style>
        tr[data-href]:hover {
            cursor: pointer;
            background-color: #20c997;
        }
    </style>
    <title>Material Design Bootstrap</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="{% static "cssp/mdb.min.css" %}" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="{% static "cssp/style.css" %}" rel="stylesheet">
    <!-- MDBootstrap Datatables  -->
    <link href="{% static "cssp/addons/datatables.min.css" %}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
    <style media="screen">
        .dtHorizontalVerticalExampleWrapper {
            max-width: 750px;
            margin: 0 auto;
        }

        #dtHorizontalVerticalExample th, td {
            white-space: nowrap;
        }

        table.dataTable thead .sorting:after,
        table.dataTable thead .sorting:before,
        table.dataTable thead .sorting_asc:after,
        table.dataTable thead .sorting_asc:before,
        table.dataTable thead .sorting_asc_disabled:after,
        table.dataTable thead .sorting_asc_disabled:before,
        table.dataTable thead .sorting_desc:after,
        table.dataTable thead .sorting_desc:before,
        table.dataTable thead .sorting_desc_disabled:after,
        table.dataTable thead .sorting_desc_disabled:before {
            bottom: .5em;
        }
    </style>
    <style>
        thead th {
            background-color: #4A7AB5;
            color: #ffffff;
            text-indent: 13px;
        }

        tbody tr {

            text-indent: 10px;
            background-color: white;
            color: black;
            font-family: 'Nunito', sans-serif;
        }

        tbody tr[data-href]:hover {
            cursor: pointer;
            background-color: #62757f;
            color: white;
        }
    </style>

{% endblock %}


{% block body %}
    <div style="margin-top:130px;">
        <div class="container">

            <div class="row">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            <h3 class="text-left"
                                style="padding-left:6px;padding-top:13px;margin-left:-5px;padding-bottom:1px;margin-bottom:9px;font-size:21px;font-family: 'Ubuntu', sans-serif;">
                                MY PROJECTS</h3>
                            <hr style="background-color: #0d0d0d">
                        </div>
                        <div class="col-auto col-sm-auto col-md-auto col-lg-auto col-xl-auto offset-0 text-right align-self-baseline">
                            <a href="{% url 'newproject' %}" class="btn btn-default"><i class="fas fa-plus"
                                                                                        style="padding-right: 5px;"></i>New
                                Project</a>
                        </div>

                    </div>
                    <div class="row" style="margin-top: 20px">
                        <div class="col">
                            <table id="dtHorizontalVerticalExample" class="table table-bordered table-sm "
                                   cellspacing="0"
                                   width="100%">
                                <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Course</th>
                                    <th>Group</th>
                                </tr>
                                </thead>
                                <tbody>

                                {% for project in projects %}
                                    <tr data-href="{{ project.project_id }}">
                                        <td>{{ project.project_title }}</td>
                                        <td>{{ project.course_code }}</td>
                                        <td>{{ project.group_name }}</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>


                </div>

            </div>

        </div>
    </div>
{% endblock %}



{% block scripts %}
    <footer style="height: 200px;"></footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function () {
            $(document.body).on("click", "tr[data-href]", function () {
                window.location.href = this.dataset.href;
            });
        });
    </script>
    <script type="text/javascript" src="{% static "jsp/jquery-3.4.1.min.js" %}"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="{% static "jsp/popper.min.js" %}"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="{% static "js/bootstrap.min.js" %}"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="{% static "jsp/mdb.min.js" %}"></script>
    <!-- MDBootstrap Datatables  -->
    <script type="text/javascript" src="{% static "jsp/addons/datatables.min.js" %}"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#dtHorizontalVerticalExample').DataTable({
                "scrollX": true,
                "scrollY": true,
            });
            $('.dataTables_length').addClass('bs-select');
        });
    </script>
    <script>

        $(document).ready(function () {
            $(document.body).on("click", "tr[data-href]", function () {
                window.location.href = this.dataset.href;
            });
        });
    </script>
{% endblock %}
